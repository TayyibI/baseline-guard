name: Baseline Guard Test

on: [push]

jobs:
  baseline_check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run Baseline Guard
        uses: ./
        id: baseline
        with:
          target-baseline: "2023"
          scan-files: "src/**/*.css"
          fail-on-newly: "true"
      - name: Check Output
        run: echo "Violations found: ${{ steps.baseline.outputs.violations-found }}"
